<!DOCTYPE html>
<html lang="hu">

<head>
    <title>Projectmenedzsment - Quiz</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="./styles/scrollbar.css">
    <style>
        .sidenav {
            width: 130px;
            position: sticky;
            z-index: 1;
            top: 20px;
            left: 10px;
            background: #fff;
            overflow-x: visible;
            padding: 8px 0;
            margin: 10px;
            box-shadow: #0005 0px 0px 10px;
        }

        body {
            scroll-behavior: smooth;
            background-image: url('https://media.istockphoto.com/vectors/quiz-seamless-pattern-question-marks-doubt-faq-background-simple-vector-id1257643062?b=1&k=20&m=1257643062&s=170667a&w=0&h=z2tTo8a6Y3b5xHu9EN4mfWGB5PcclMCHepy4WL40EzM=');
        }

        .sidenav a {
            padding: 6px 8px 6px 16px;
            text-decoration: none;
            font-size: 25px;
            color: #2196F3;
            display: block;
            transition: 500ms;
        }

        .sidenav a:hover {
            color: #064579;
            background: #fff;
            box-shadow: #0005 0px 0px 3px;
            z-index: 1;
            transform: scale(1.2);
        }

        .sidenav a:active {
            transform: scale(1.2) translateY(5px);
        }

        .main {
            margin-left: 140px;
            /* Same width as the sidebar + left position in px */
            font-size: 28px;
            /* Increased text to enable scrolling */
            padding: 0px 10px;
        }

        @media screen and (max-height: 450px) {
            .sidenav {
                padding-top: 15px;
            }

            .sidenav a {
                font-size: 18px;
            }
        }

        .question-panel {
            box-shadow: #0005 0px 0px 10px;
            padding: 20px 10px;
            margin: 20px 0px;
        }

        .row {
            width: 99%;
            margin-top: 20px;
        }

        html {
            scroll-behavior: smooth;
        }

        iframe {
            width: 100%;
        }

        ul {
            list-style: none;
        }

        .container {
            background: #fff !important;
        }
    </style>
    <script>
        function resizeIframe(obj) {
            obj.style.height = obj.contentWindow.document.body.firstElementChild.scrollHeight + 'px';
        }
    </script>
</head>

<body data-bs-spy="scroll" data-bs-target=".sidenav" data-bs-offset="50">

    <!-- Cím/Banner -->
    <div class="jumbotron text-center" style="
        margin-bottom:0;
        padding: 30px;
        background-image: url('https://cdn.woorise.com/template/wp-content/uploads/sites/62/2017/10/trivia-quiz-template-background.png');
        background-position: center;
        background-size: cover;
    ">
        <h1>Projectmenedzsment</h1>
        <p>Quiz</p>
    </div>

    <!-- Fő tartalom -->
    <div class="row">
        <!-- Oldalmenü -->
        <div class="col-2">
            <nav class="sidenav" id="sidenav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="" href="#question-1">1</a>
                    </li>
                    <li class="nav-item">
                        <a class="" href="#question-2">2</a>
                    </li>
                    <li class="nav-item">
                        <a class="" href="#question-3">3</a>
                    </li>
                    <li class="nav-item">
                        <a class="" href="#question-4">4</a>
                    </li>
                    <li class="nav-item">
                        <a class="" href="#question-5">5</a>
                    </li>
                    <li class="nav-item">
                        <a class="" href="#question-6">6</a>
                    </li>
                    <li class="nav-item">
                        <a class="" href="#question-7">7</a>
                    </li>
                    <li class="nav-item">
                        <a class="" href="#question-8">8</a>
                    </li>
                    <li class="nav-item">
                        <a class="" href="#question-9">9</a>
                    </li>
                    <li class="nav-item">
                        <a class="disabled" href="#question-10">10</a>
                    </li>
                </ul>
            </nav>
        </div>
        <!-- Kérdések -->
        <!--
            Amit változtatni kell: a 'container question-panel' class-al rendelkező elemek id-je,
            illetve a 'iframe' elemek 'src'-je.
            Ha új kérdést akarsz: duplikáld az egyik html fájlt a questions-ban, nevezd át a következő sorszámra,
            és itt az 'iframe' elemnek állítsd be a 'src' mezőjére, ahogy a többinél.
            A html neve ha lehet legyen ugyan az mint a 'container question-panel' class-al rendelkező elemek id-je,
            nem tudom hogy működik már a kód ☺.
        -->
        <div class="col-10">
            <!-- Kiválasztós kérdés, 1 helyes válasz -->
            <div id="question-1a" class="container question-panel">
                <iframe src="./questions/1a.html" frameborder="0" scrolling="no" onload="resizeIframe(this)"
                    class="question-iframe">
                </iframe>
            </div>
            <!-- Húzogatós kérdés -->
            <div id="question-2a" class="container question-panel">
                <iframe src="./questions/2a.html" frameborder="0" scrolling="no" onload="resizeIframe(this)"
                    class="question-iframe">
                </iframe>
            </div>
            <!-- Kiválasztós kérdés, több helyes válasz -->
            <div id="question-4a" class="container question-panel">
                <iframe src="./questions/3a.html" frameborder="0" scrolling="no" onload="resizeIframe(this)"
                    class="question-iframe">
                </iframe>
            </div>

            <!-- Kész -->
            <div id="question-1" class="container question-panel">
                <iframe src="./questions/5.html" frameborder="0" scrolling="no" onload="resizeIframe(this)"
                    class="question-iframe">
                </iframe>
            </div>
            <div id="question-2" class="container question-panel">
                <iframe src="./questions/6.html" frameborder="0" scrolling="no" onload="resizeIframe(this)"
                    class="question-iframe">
                </iframe>
            </div>
            <div id="question-3" class="container question-panel">
                <iframe src="./questions/7.html" frameborder="0" scrolling="no" onload="resizeIframe(this)"
                    class="question-iframe">
                </iframe>
            </div>
            <div id="question-4" class="container question-panel">
                <iframe src="./questions/8.html" frameborder="0" scrolling="no" onload="resizeIframe(this)"
                    class="question-iframe">
                </iframe>
            </div>
            <div id="question-5" class="container question-panel">
                <iframe src="./questions/9.html" frameborder="0" scrolling="no" onload="resizeIframe(this)"
                    class="question-iframe">
                </iframe>
            </div>
            <div id="question-6" class="container question-panel">
                <iframe src="./questions/10.html" frameborder="0" scrolling="no" onload="resizeIframe(this)"
                    class="question-iframe" style="height: 1000px;">
                </iframe>
            </div>
            <div id="question-7" class="container question-panel">
                <iframe src="./questions/11.html" frameborder="0" scrolling="no" onload="resizeIframe(this)"
                    class="question-iframe">
                </iframe>
            </div>
            <div id="question-8" class="container question-panel">
                <iframe src="./questions/12.html" frameborder="0" scrolling="no" onload="resizeIframe(this)"
                    class="question-iframe">
                </iframe>
            </div>
            <div id="question-9" class="container question-panel">
                <iframe src="./questions/13.html" frameborder="0" scrolling="no" onload="resizeIframe(this)"
                    class="question-iframe">
                </iframe>
            </div>
            <!-- Eredmény -->
            <div style="margin: 20px 0px;">
                <button class="btn btn-primary" onclick="CheckResults(this)">Ellenőrzés</button>
                <button class="btn btn-primary" onclick="Reset(this)">Újra</button>
                <div class="alert alert-danger result-incorrect">x a 4 kérdésből helytelen!</div>
                <div class="alert alert-success result-correct">Az összes válasz helyes!</div>
            </div>
        </div>
    </div>


    <!-- Foother -->
    <div class="jumbotron text-left" style="
    margin-bottom:0;
    padding: 0px 20px;
    background: #fffb;
    box-shadow: #fff 0px 0px 20px;
    ">
        <h4>Készítették:</h4>
        <ul>
            <li>Barkóci Vivi</li>
            <li>Bencsik Attila</li>
            <li>Csomós Zoli</li>
            <li>Bánszky Balázs</li>
        </ul>
    </div>

    <script>
        const incorrectResult = document.getElementsByClassName('result-incorrect').item(0)
        const correctResult = document.getElementsByClassName('result-correct').item(0)

        incorrectResult.style.display = 'none'
        correctResult.style.display = 'none'

        const questions = [false]
        const iframes = document.getElementsByTagName("iframe")

        function ResetIframeSizes() {
            for (let i = 0; i < iframes.length; i++) {
                resizeIframe(iframes[i])
            }
        }

        /** @param {number} questionId  @param {boolean} correct */
        function SetQuestion(questionId, correct) {
            questions[questionId] = correct
        }

        function CheckResults(btn) {
            /** @type {HTMLIFrameElement} */
            var incorrectIframe = null

            var incorrestQuestions = 0
            var questions = 0

            for (let i = 0; i < iframes.length; i++) {
                const element = iframes[i];
                if (element.contentWindow.CheckResult() == false) {
                    if (incorrectIframe == null) {incorrectIframe = element}
                    incorrestQuestions += 1
                }
                questions += 1
                resizeIframe(element)
            }

            if (incorrectIframe == null) {
                btn.scrollIntoView();
                incorrectResult.style.display = 'none'
                correctResult.style.display = 'inline-block'
            } else {
                incorrectIframe.scrollIntoView();
                if (incorrestQuestions == questions) {
                    incorrectResult.innerHTML = 'Az összes válaszod helytelen!'
                } else {
                    incorrectResult.innerHTML = incorrestQuestions + ' válaszod a(z) ' + questions + '-ból/ből helytelen!'
                }
                incorrectResult.style.display = 'inline-block'
                correctResult.style.display = 'none'
            }
        }

        function Reset(btn) {
            for (let i = 0; i < iframes.length; i++) {
                const element = iframes[i];
                element.contentWindow.location.reload();
            }

            btn.scrollIntoView();
        }
    </script>

</body>

</html>